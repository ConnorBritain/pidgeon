{
  "messageType": "DSR",
  "triggerEvent": "Q03",
  "name": "Deferred Response to Query",
  "description": "Sent to provide deferred or asynchronous responses to previously submitted queries",
  "standard": "hl7v23",
  "version": "2.3",
  "category": "Query Management",
  "structure": [
    {
      "type": "segment",
      "segment": "MSH",
      "name": "Message Header",
      "usage": "R",
      "cardinality": {"min": 1, "max": 1},
      "notes": ["MSH.9 must be 'DSR^Q03'"]
    },
    {
      "type": "segment",
      "segment": "MSA",
      "name": "Message Acknowledgment",
      "usage": "O",
      "cardinality": {"min": 0, "max": 1}
    },
    {
      "type": "segment",
      "segment": "QRD",
      "name": "Query Definition",
      "usage": "R",
      "cardinality": {"min": 1, "max": 1}
    },
    {
      "type": "segment",
      "segment": "QRF",
      "name": "Query Filter",
      "usage": "O",
      "cardinality": {"min": 0, "max": 1}
    },
    {
      "type": "segment",
      "segment": "DSP",
      "name": "Display Data",
      "usage": "R",
      "cardinality": {"min": 1, "max": "unbounded"}
    },
    {
      "type": "segment",
      "segment": "DSC",
      "name": "Continuation Pointer",
      "usage": "O",
      "cardinality": {"min": 0, "max": 1}
    }
  ],
  "useCases": [
    "Asynchronous query processing results",
    "Batch query response delivery",
    "Long-running query completions",
    "Deferred data compilation responses"
  ],
  "examples": [
    "MSH|^~\\&|HIS|HOSPITAL|||20231201210000||DSR^Q03|DSP000002|P|2.3",
    "QRD|20231201200000|R|D|QRY000003|||1^RD|BATCH001|REP",
    "DSP|1||Query Results - Deferred Processing Complete",
    "DSP|2||Total Records Found: 150",
    "DSP|3||Processing Time: 5 minutes 23 seconds"
  ]
}