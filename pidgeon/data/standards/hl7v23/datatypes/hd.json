{
  "dataType": "HD",
  "name": "Hierarchic Designator",
  "description": "The HD data type is used to identify entities that assign or create identifiers. It provides both local and universal identification through a three-component structure. Designed as a more powerful replacement for the application identifier of HL7 versions 2.1 and 2.2, it serves as an assigning authority or assigning facility identifier.",
  "standard": "hl7v23",
  "version": "2.3",
  "category": "composite",
  "components": {
    "HD.1": {
      "name": "Namespace ID",
      "dataType": "IS",
      "description": "The local coded item for the entity. This component allows local identification within a known namespace.",
      "length": 20,
      "usage": "conditional",
      "position": 1,
      "table": "0300"
    },
    "HD.2": {
      "name": "Universal ID",
      "dataType": "ST",
      "description": "A string formatted according to the scheme defined by the Universal ID Type component. Intended to be unique over time within the UID type.",
      "length": 199,
      "usage": "conditional",
      "position": 2
    },
    "HD.3": {
      "name": "Universal ID Type",
      "dataType": "ID",
      "description": "Governs the interpretation of the Universal ID component. Specifies the format and uniqueness rules for the Universal ID.",
      "length": 6,
      "usage": "conditional",
      "position": 3,
      "table": "0301"
    }
  },
  "length": 227,
  "constraints": {
    "populationRules": [
      "If HD.1 is present, HD.2 and HD.3 are optional",
      "If HD.3 is present, then HD.2 must also be present (HD.1 is optional)",
      "Universal IDs must be unique within the series defined by the Universal ID Type"
    ],
    "encoding": "Components separated by ^ (component separator)",
    "identification": "Can be used as either local identifier or universal identifier"
  },
  "usage": [
    "Assigning authority in CX.4 - Extended Composite ID",
    "Sending application in MSH.3 - Sending Application",
    "Receiving application in MSH.5 - Receiving Application",
    "Entity identifiers throughout HL7 messages",
    "System and organization identification"
  ],
  "examples": [
    "GOODHEALTH",
    "GOODHEALTH^^L",
    "^1.2.840.114398.1^ISO",
    "LAB^1.2.840.114398.1.100^ISO",
    "HOSPITAL^^DNS"
  ],
  "commonFields": [
    "CX.4 - Assigning Authority",
    "MSH.3 - Sending Application",
    "MSH.5 - Receiving Application",
    "EI.2 - Namespace ID",
    "Various assigning authority fields"
  ],
  "generationHints": {
    "typical": "Use realistic healthcare organization and system identifiers",
    "namespaceExamples": ["HOSPITAL", "LAB", "PHARMACY", "RADIOLOGY", "EMR"],
    "universalIDTypes": ["ISO", "DNS", "UUID", "HL7", "L"],
    "patterns": "Local only, universal only, or both local and universal identification",
    "uniqueness": "Universal IDs must be globally unique within their type"
  },
  "identificationModes": {
    "localOnly": "Only HD.1 populated - functions like IS data type",
    "universalOnly": "Only HD.2 and HD.3 populated - globally unique identifier",
    "hybrid": "All components populated - both local and universal identification"
  },
  "universalIDTypes": {
    "ISO": "ISO Object Identifier (OID) - dot notation like 1.2.840.114398.1",
    "DNS": "Internet domain name like hospital.example.com",
    "UUID": "Universal Unique Identifier (GUID/UUID)",
    "HL7": "HL7 registered identifier",
    "L": "Local identifier (deprecated in favor of namespace ID only)"
  },
  "assigningRoles": {
    "assigningAuthority": "Entity that assigns/creates instance identifiers (e.g., patient registration system)",
    "assigningFacility": "Location where identifiers are given out (e.g., specific hospital department)"
  },
  "validationRules": {
    "conditionalRequirement": "Component population rules must be followed",
    "universalUniqueness": "Universal IDs must be unique within their type",
    "tableValidation": "Namespace ID and Universal ID Type must reference valid table values",
    "formatConsistency": "Universal ID format must match the specified Universal ID Type"
  },
  "backwardCompatibility": {
    "isReplacement": "More powerful replacement for application identifier from HL7 v2.1/2.2",
    "singleComponent": "Single component HD (only HD.1) appears like IS data type to older systems",
    "migration": "Allows gradual migration from simple identifiers to hierarchical identifiers"
  }
}
