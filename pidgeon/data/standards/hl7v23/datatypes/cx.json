{
  "dataType": "CX",
  "name": "Extended Composite ID with Check Digit",
  "description": "The CX data type is used for specifying an identifier with optional check digit calculation and validation. It extends the basic ID concept to include check digits, assigning authority information, identifier type codes, and validity periods. Essential for patient identifiers, medical record numbers, and other critical healthcare identifiers requiring validation.",
  "standard": "hl7v23",
  "version": "2.3",
  "category": "composite",
  "components": {
    "CX.1": {
      "name": "ID Number",
      "dataType": "ST",
      "description": "The value of the identifier itself (e.g., medical record number, social security number).",
      "length": 15,
      "usage": "required",
      "position": 1
    },
    "CX.2": {
      "name": "Identifier Check Digit",
      "dataType": "ST",
      "description": "A digit or digits, exclusive of the identifier in CX.1, calculated by applying an algorithm to all or some of the digits in the number, which may be used to test validity of the non-check-digit identifier. Null if ID is alphanumeric.",
      "length": 1,
      "usage": "optional",
      "position": 2
    },
    "CX.3": {
      "name": "Check Digit Scheme",
      "dataType": "ID",
      "description": "Contains the code identifying the check digit scheme employed. Refer to HL7 Table 0061 - Check Digit Scheme for valid values. Null if ID is alphanumeric.",
      "length": 3,
      "usage": "optional",
      "position": 3,
      "table": "0061"
    },
    "CX.4": {
      "name": "Assigning Authority",
      "dataType": "HD",
      "description": "The assigning authority is a unique name of the system (or organization or agency or department) that creates the data. It is an HD data type.",
      "usage": "optional",
      "position": 4
    },
    "CX.5": {
      "name": "Identifier Type Code",
      "dataType": "ID",
      "description": "A code corresponding to the type of identifier (e.g., MR for medical record number, SS for social security number).",
      "length": 5,
      "usage": "optional",
      "position": 5,
      "table": "0203"
    }
  },
  "length": 100,
  "constraints": {
    "checkDigit": "Check digit and check digit scheme are null if ID is alphanumeric",
    "encoding": "Components separated by ^ (component separator)",
    "validation": "Check digit calculation follows specific algorithms (e.g., Mod10, Mod11) as defined in Table 0061"
  },
  "usage": [
    "Patient identifiers in PID.3 - Patient Identifier List",
    "Visit numbers in PV1.19 - Visit Number",
    "Account numbers in PID.18 - Patient Account Number",
    "Medical record numbers throughout patient administration",
    "Any identifier requiring validation and authority tracking"
  ],
  "examples": [
    "12345^0^M10^GOODHEALTH^MR",
    "555444333^7^M11^SSA^SS",
    "A123456789^^^ACME^AN",
    "MR123456^8^M10^HOSPITAL^MR"
  ],
  "commonFields": [
    "PID.3 - Patient Identifier List",
    "PID.18 - Patient Account Number",
    "PV1.19 - Visit Number",
    "NK1.33 - Next of Kin/Associated Parties Identifiers",
    "GT1.12 - Guarantor SSN"
  ],
  "generationHints": {
    "typical": "Use realistic medical record numbers with appropriate check digits",
    "identifierTypes": ["MR", "SS", "DL", "AN", "MC", "MA"],
    "checkDigitSchemes": ["M10", "M11", "ISO", "NPI"],
    "authorities": "Use facility names or standard authority codes",
    "validation": "Ensure check digits are calculated correctly when provided"
  },
  "checkDigitAlgorithms": {
    "M10": "Modulus 10 check digit calculation - multiply odd position digits by 2, sum all digits, check digit makes total divisible by 10",
    "M11": "Modulus 11 check digit calculation - weight positions by 2-7 repeatedly, calculate check digit to make total divisible by 11",
    "ISO": "ISO 7064 check digit algorithm",
    "NPI": "National Provider Identifier check digit (Luhn algorithm variant)"
  }
}
