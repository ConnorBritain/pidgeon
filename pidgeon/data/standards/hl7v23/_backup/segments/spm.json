{
  "segment": "SPM",
  "name": "Specimen",
  "description": "The Specimen segment (SPM) contains information about specimens. This segment is used primarily in laboratory messaging to convey information about the biological sample being tested. It includes specimen identification, collection details, processing information, and physical characteristics. The SPM segment provides comprehensive specimen tracking from collection through analysis.",
  "standard": "hl7v23",
  "version": "2.3",
  "usage": "O",
  "cardinality": {
    "min": 0,
    "max": "*",
    "note": "Multiple SPM segments can be used for multiple specimens"
  },
  "messageTypes": [
    "ORU^R01", "OUL^R21", "OUL^R22", "OUL^R23", "OUL^R24",
    "OML^O21", "OML^O33", "OML^O35", "OPL^O37", "OPL^O38"
  ],
  "fields": {
    "SPM.1": {
      "name": "Set ID - SPM",
      "description": "This field contains the sequence number for the SPM segment when multiple specimens are present in a single message.",
      "dataType": "SI",
      "usage": "O",
      "maxLength": 4,
      "cardinality": {
        "min": 0,
        "max": 1
      },
      "generationHint": "Sequential numbering: 1, 2, 3, etc. for multiple specimens"
    },
    "SPM.2": {
      "name": "Specimen ID",
      "description": "This field contains the unique identifier for the specimen assigned by the placer (ordering system). This is typically the accession number or specimen barcode.",
      "dataType": "EIP",
      "usage": "O",
      "maxLength": 80,
      "cardinality": {
        "min": 0,
        "max": 1
      },
      "generationHint": "Format: <specimen_id>^<placer_application>, e.g., 'SPEC202501150001^LAB'"
    },
    "SPM.3": {
      "name": "Specimen Parent IDs",
      "description": "This field identifies the parent specimen(s) from which the current specimen was derived. Used for specimens that are aliquots or derivatives of another specimen.",
      "dataType": "EIP",
      "usage": "O",
      "maxLength": 80,
      "cardinality": {
        "min": 0,
        "max": "*"
      },
      "generationHint": "Parent specimen identifiers for derived specimens"
    },
    "SPM.4": {
      "name": "Specimen Type",
      "description": "This field identifies the type of specimen. Values typically from SNOMED CT or local specimen type codes.",
      "dataType": "CWE",
      "usage": "R",
      "maxLength": 250,
      "cardinality": {
        "min": 1,
        "max": 1
      },
      "validValues": [
        {"code": "BLOOD", "description": "Blood"},
        {"code": "SER", "description": "Serum"},
        {"code": "PLAS", "description": "Plasma"},
        {"code": "URINE", "description": "Urine"},
        {"code": "CSF", "description": "Cerebrospinal fluid"},
        {"code": "STOOL", "description": "Stool"},
        {"code": "SPUTUM", "description": "Sputum"},
        {"code": "SWAB", "description": "Swab"},
        {"code": "TISSUE", "description": "Tissue"},
        {"code": "SALIVA", "description": "Saliva"},
        {"code": "WOUND", "description": "Wound"},
        {"code": "THROAT", "description": "Throat swab"},
        {"code": "NASAL", "description": "Nasal swab"},
        {"code": "BAL", "description": "Bronchoalveolar lavage"},
        {"code": "PLEURAL", "description": "Pleural fluid"},
        {"code": "JOINT", "description": "Joint fluid"},
        {"code": "PERITON", "description": "Peritoneal fluid"}
      ],
      "generationHint": "Most common: BLOOD (40%), URINE (20%), SER (15%), STOOL (8%)"
    },
    "SPM.5": {
      "name": "Specimen Type Modifier",
      "description": "This field further describes or modifies the specimen type (e.g., fasting, random, clean catch).",
      "dataType": "CWE",
      "usage": "O",
      "maxLength": 250,
      "cardinality": {
        "min": 0,
        "max": "*"
      },
      "validValues": [
        {"code": "FASTING", "description": "Fasting specimen"},
        {"code": "RANDOM", "description": "Random specimen"},
        {"code": "CLEANCATCH", "description": "Clean catch urine"},
        {"code": "MIDSTREAM", "description": "Midstream urine"},
        {"code": "POSTPRANDIAL", "description": "Post-meal specimen"},
        {"code": "TIMED", "description": "Timed specimen"},
        {"code": "POOLED", "description": "Pooled specimen"},
        {"code": "COMPOSITE", "description": "Composite specimen"}
      ],
      "generationHint": "Collection-specific modifiers relevant to specimen type"
    },
    "SPM.6": {
      "name": "Specimen Additives",
      "description": "This field identifies any additives or preservatives used in the specimen container.",
      "dataType": "CWE",
      "usage": "O",
      "maxLength": 250,
      "cardinality": {
        "min": 0,
        "max": "*"
      },
      "validValues": [
        {"code": "EDTA", "description": "EDTA"},
        {"code": "HEPARIN", "description": "Heparin"},
        {"code": "CITRATE", "description": "Sodium citrate"},
        {"code": "FLUORIDE", "description": "Sodium fluoride"},
        {"code": "OXALATE", "description": "Potassium oxalate"},
        {"code": "NONE", "description": "No additives"},
        {"code": "FORMALIN", "description": "Formalin"},
        {"code": "SALINE", "description": "Normal saline"}
      ],
      "generationHint": "Anticoagulants and preservatives used in specimen tubes"
    },
    "SPM.7": {
      "name": "Specimen Collection Method",
      "description": "This field describes how the specimen was collected.",
      "dataType": "CWE",
      "usage": "O",
      "maxLength": 250,
      "cardinality": {
        "min": 0,
        "max": 1
      },
      "validValues": [
        {"code": "VENIPUNCTURE", "description": "Venipuncture"},
        {"code": "FINGERSTICK", "description": "Finger stick"},
        {"code": "HEELSTICK", "description": "Heel stick"},
        {"code": "ARTERIAL", "description": "Arterial puncture"},
        {"code": "CATHETER", "description": "Catheter collection"},
        {"code": "MIDSTREAM", "description": "Midstream collection"},
        {"code": "SUPRAPUBIC", "description": "Suprapubic aspiration"},
        {"code": "BIOPSY", "description": "Biopsy"},
        {"code": "ASPIRATION", "description": "Aspiration"},
        {"code": "SURGICAL", "description": "Surgical collection"}
      ],
      "generationHint": "Collection method should match specimen type and clinical setting"
    },
    "SPM.8": {
      "name": "Specimen Source Site",
      "description": "This field identifies the body site from which the specimen was collected.",
      "dataType": "CWE",
      "usage": "O",
      "maxLength": 250,
      "cardinality": {
        "min": 0,
        "max": 1
      },
      "validValues": [
        {"code": "ARM", "description": "Arm"},
        {"code": "LEG", "description": "Leg"},
        {"code": "HAND", "description": "Hand"},
        {"code": "FINGER", "description": "Finger"},
        {"code": "THROAT", "description": "Throat"},
        {"code": "NOSE", "description": "Nose"},
        {"code": "EAR", "description": "Ear"},
        {"code": "EYE", "description": "Eye"},
        {"code": "WOUND", "description": "Wound site"},
        {"code": "ABDOMEN", "description": "Abdomen"},
        {"code": "CHEST", "description": "Chest"},
        {"code": "BACK", "description": "Back"}
      ],
      "generationHint": "Anatomical location relevant to specimen type and collection"
    },
    "SPM.9": {
      "name": "Specimen Source Site Modifier",
      "description": "This field provides additional specificity about the source site (e.g., left, right, upper, lower).",
      "dataType": "CWE",
      "usage": "O",
      "maxLength": 250,
      "cardinality": {
        "min": 0,
        "max": "*"
      },
      "validValues": [
        {"code": "LEFT", "description": "Left"},
        {"code": "RIGHT", "description": "Right"},
        {"code": "BILATERAL", "description": "Bilateral"},
        {"code": "UPPER", "description": "Upper"},
        {"code": "LOWER", "description": "Lower"},
        {"code": "ANTERIOR", "description": "Anterior"},
        {"code": "POSTERIOR", "description": "Posterior"},
        {"code": "MEDIAL", "description": "Medial"},
        {"code": "LATERAL", "description": "Lateral"}
      ],
      "generationHint": "Anatomical modifiers for precise source location"
    },
    "SPM.10": {
      "name": "Specimen Collection Site",
      "description": "This field identifies the location where the specimen was collected (facility, department, etc.).",
      "dataType": "CWE",
      "usage": "O",
      "maxLength": 250,
      "cardinality": {
        "min": 0,
        "max": 1
      },
      "generationHint": "Collection facility or department (Emergency, Outpatient Lab, ICU, etc.)"
    },
    "SPM.11": {
      "name": "Specimen Role",
      "description": "This field defines the role of this specimen in relation to the testing process.",
      "dataType": "CWE",
      "usage": "O",
      "maxLength": 250,
      "cardinality": {
        "min": 0,
        "max": "*"
      },
      "validValues": [
        {"code": "P", "description": "Patient specimen"},
        {"code": "C", "description": "Control specimen"},
        {"code": "B", "description": "Blind specimen"},
        {"code": "E", "description": "Electronic QC"},
        {"code": "F", "description": "Filler organization specimen"},
        {"code": "G", "description": "Group (where a specimen represents multiple individuals)"},
        {"code": "O", "description": "Other"}
      ],
      "generationHint": "Most commonly P (patient specimen) for clinical testing"
    },
    "SPM.12": {
      "name": "Specimen Collection Amount",
      "description": "This field contains the amount of specimen collected.",
      "dataType": "CQ",
      "usage": "O",
      "maxLength": 20,
      "cardinality": {
        "min": 0,
        "max": 1
      },
      "generationHint": "Volume or quantity with units (e.g., 5^mL, 10^gm)"
    },
    "SPM.13": {
      "name": "Grouped Specimen Count",
      "description": "This field contains the number of individual specimens that make up a grouped specimen.",
      "dataType": "NM",
      "usage": "O",
      "maxLength": 6,
      "cardinality": {
        "min": 0,
        "max": 1
      },
      "generationHint": "Number of specimens in a pooled or composite collection"
    },
    "SPM.14": {
      "name": "Specimen Description",
      "description": "This field contains a free text description of the specimen, including appearance or other characteristics.",
      "dataType": "ST",
      "usage": "O",
      "maxLength": 250,
      "cardinality": {
        "min": 0,
        "max": "*"
      },
      "generationHint": "Physical characteristics: color, clarity, consistency, etc."
    },
    "SPM.15": {
      "name": "Specimen Handling Code",
      "description": "This field contains handling instructions or requirements for the specimen.",
      "dataType": "CWE",
      "usage": "O",
      "maxLength": 250,
      "cardinality": {
        "min": 0,
        "max": "*"
      },
      "validValues": [
        {"code": "FROZEN", "description": "Keep frozen"},
        {"code": "REFRIG", "description": "Refrigerate"},
        {"code": "ROOMTEMP", "description": "Room temperature"},
        {"code": "ICE", "description": "Keep on ice"},
        {"code": "PROTECT", "description": "Protect from light"},
        {"code": "URGENT", "description": "Urgent processing"},
        {"code": "STAT", "description": "STAT processing"}
      ],
      "generationHint": "Storage and handling requirements specific to specimen type"
    },
    "SPM.16": {
      "name": "Specimen Risk Code",
      "description": "This field contains codes indicating potential risk or hazard associated with the specimen.",
      "dataType": "CWE",
      "usage": "O",
      "maxLength": 250,
      "cardinality": {
        "min": 0,
        "max": "*"
      },
      "validValues": [
        {"code": "BHZ", "description": "Biohazard"},
        {"code": "INF", "description": "Infectious"},
        {"code": "RAD", "description": "Radioactive"},
        {"code": "CHM", "description": "Chemical hazard"},
        {"code": "UNK", "description": "Unknown risk"},
        {"code": "STD", "description": "Standard precautions"}
      ],
      "generationHint": "Safety precautions required for specimen handling"
    },
    "SPM.17": {
      "name": "Specimen Collection Date/Time",
      "description": "This field contains the date and time when the specimen was collected.",
      "dataType": "DR",
      "usage": "O",
      "maxLength": 26,
      "cardinality": {
        "min": 0,
        "max": 1
      },
      "generationHint": "Collection timestamp - critical for time-sensitive tests"
    },
    "SPM.18": {
      "name": "Specimen Received Date/Time",
      "description": "This field contains the date and time when the specimen was received in the laboratory.",
      "dataType": "TS",
      "usage": "O",
      "maxLength": 26,
      "cardinality": {
        "min": 0,
        "max": 1
      },
      "generationHint": "Lab receipt time - important for turnaround time tracking"
    },
    "SPM.19": {
      "name": "Specimen Expiration Date/Time",
      "description": "This field contains the date and time after which the specimen should not be used for testing.",
      "dataType": "TS",
      "usage": "O",
      "maxLength": 26,
      "cardinality": {
        "min": 0,
        "max": 1
      },
      "generationHint": "Expiry date based on specimen type and storage conditions"
    },
    "SPM.20": {
      "name": "Specimen Availability",
      "description": "This field indicates the current availability of the specimen for testing.",
      "dataType": "ID",
      "usage": "O",
      "maxLength": 1,
      "cardinality": {
        "min": 0,
        "max": 1
      },
      "validValues": [
        {"code": "Y", "description": "Yes - Available"},
        {"code": "N", "description": "No - Not available"}
      ],
      "generationHint": "Indicates if specimen is available for additional testing"
    },
    "SPM.21": {
      "name": "Specimen Reject Reason",
      "description": "This field contains the reason why a specimen was rejected for testing.",
      "dataType": "CWE",
      "usage": "O",
      "maxLength": 250,
      "cardinality": {
        "min": 0,
        "max": "*"
      },
      "validValues": [
        {"code": "HEMOLYSIS", "description": "Hemolyzed specimen"},
        {"code": "LIPEMIC", "description": "Lipemic specimen"},
        {"code": "ICTERIC", "description": "Icteric specimen"},
        {"code": "CLOTTED", "description": "Clotted specimen"},
        {"code": "INSUFFICIENT", "description": "Insufficient volume"},
        {"code": "CONTAMINATED", "description": "Contaminated specimen"},
        {"code": "MISLABELED", "description": "Mislabeled specimen"},
        {"code": "IMPROPER", "description": "Improper collection"},
        {"code": "EXPIRED", "description": "Expired specimen"}
      ],
      "generationHint": "Quality issues that prevent testing from being performed"
    },
    "SPM.22": {
      "name": "Specimen Quality",
      "description": "This field describes the quality of the specimen for testing purposes.",
      "dataType": "CWE",
      "usage": "O",
      "maxLength": 250,
      "cardinality": {
        "min": 0,
        "max": 1
      },
      "validValues": [
        {"code": "EXCELLENT", "description": "Excellent quality"},
        {"code": "GOOD", "description": "Good quality"},
        {"code": "FAIR", "description": "Fair quality"},
        {"code": "POOR", "description": "Poor quality"},
        {"code": "UNSATISFACTORY", "description": "Unsatisfactory"}
      ],
      "generationHint": "Overall assessment of specimen quality for testing"
    },
    "SPM.23": {
      "name": "Specimen Appropriateness",
      "description": "This field indicates whether the specimen is appropriate for the requested testing.",
      "dataType": "CWE",
      "usage": "O",
      "maxLength": 250,
      "cardinality": {
        "min": 0,
        "max": 1
      },
      "validValues": [
        {"code": "APPROPRIATE", "description": "Appropriate for testing"},
        {"code": "INAPPROPRIATE", "description": "Inappropriate for testing"},
        {"code": "SUBOPTIMAL", "description": "Suboptimal but acceptable"}
      ],
      "generationHint": "Assessment of specimen suitability for requested tests"
    },
    "SPM.24": {
      "name": "Specimen Condition",
      "description": "This field describes any conditions or problems with the specimen that might affect test results.",
      "dataType": "CWE",
      "usage": "O",
      "maxLength": 250,
      "cardinality": {
        "min": 0,
        "max": "*"
      },
      "validValues": [
        {"code": "NORMAL", "description": "Normal appearance"},
        {"code": "HEMOLYZED", "description": "Hemolyzed"},
        {"code": "LIPEMIC", "description": "Lipemic"},
        {"code": "ICTERIC", "description": "Icteric"},
        {"code": "TURBID", "description": "Turbid"},
        {"code": "BLOODY", "description": "Bloody"},
        {"code": "PURULENT", "description": "Purulent"}
      ],
      "generationHint": "Visual or physical conditions that may impact testing"
    },
    "SPM.25": {
      "name": "Specimen Current Quantity",
      "description": "This field contains the current quantity of specimen available after any testing has been performed.",
      "dataType": "CQ",
      "usage": "O",
      "maxLength": 20,
      "cardinality": {
        "min": 0,
        "max": 1
      },
      "generationHint": "Remaining volume after initial testing"
    },
    "SPM.26": {
      "name": "Number of Specimen Containers",
      "description": "This field contains the number of containers used for this specimen.",
      "dataType": "NM",
      "usage": "O",
      "maxLength": 4,
      "cardinality": {
        "min": 0,
        "max": 1
      },
      "generationHint": "Number of physical containers for the specimen"
    },
    "SPM.27": {
      "name": "Container Type",
      "description": "This field describes the type of container used to collect or store the specimen.",
      "dataType": "CWE",
      "usage": "O",
      "maxLength": 250,
      "cardinality": {
        "min": 0,
        "max": 1
      },
      "validValues": [
        {"code": "REDTOP", "description": "Red top tube (no additive)"},
        {"code": "LAVENDER", "description": "Lavender top tube (EDTA)"},
        {"code": "BLUE", "description": "Blue top tube (citrate)"},
        {"code": "GREEN", "description": "Green top tube (heparin)"},
        {"code": "GRAY", "description": "Gray top tube (fluoride)"},
        {"code": "YELLOW", "description": "Yellow top tube (ACD)"},
        {"code": "URINE", "description": "Urine container"},
        {"code": "STERILE", "description": "Sterile container"},
        {"code": "CULTURE", "description": "Culture container"}
      ],
      "generationHint": "Container type should match specimen type and testing requirements"
    },
    "SPM.28": {
      "name": "Container Condition",
      "description": "This field describes the condition of the specimen container.",
      "dataType": "CWE",
      "usage": "O",
      "maxLength": 250,
      "cardinality": {
        "min": 0,
        "max": 1
      },
      "validValues": [
        {"code": "INTACT", "description": "Container intact"},
        {"code": "CRACKED", "description": "Container cracked"},
        {"code": "BROKEN", "description": "Container broken"},
        {"code": "LEAKING", "description": "Container leaking"}
      ],
      "generationHint": "Physical condition of specimen container"
    },
    "SPM.29": {
      "name": "Specimen Child Role",
      "description": "This field indicates the relationship of this specimen to parent specimens.",
      "dataType": "CWE",
      "usage": "O",
      "maxLength": 250,
      "cardinality": {
        "min": 0,
        "max": 1
      },
      "validValues": [
        {"code": "ALIQUOT", "description": "Aliquot of parent specimen"},
        {"code": "DERIVATIVE", "description": "Derivative of parent specimen"},
        {"code": "SPLIT", "description": "Split from parent specimen"}
      ],
      "generationHint": "Relationship to parent specimen for derived samples"
    }
  },
  "crossReferences": {
    "fhir": [
      "Specimen.identifier",
      "Specimen.type",
      "Specimen.subject",
      "Specimen.collection",
      "Specimen.processing",
      "Specimen.container",
      "Specimen.condition",
      "Specimen.note"
    ],
    "related": ["OBR", "OBX", "SAC", "ORC", "PID", "PV1"]
  },
  "examples": [
    "SPM|1|SPEC202501150001^LAB||BLOOD^Blood^HL70487||EDTA^EDTA^HL70371|VENIPUNCTURE^Venipuncture^HL70488|ARM^Arm^HL70163||OUTLAB^Outpatient Laboratory^LOCAL|P^Patient^HL70369|5^mL^ISO+||Clear red liquid|REFRIG^Refrigerate^HL70376||20250115083000|20250115090000|20250117083000|Y||EXCELLENT^Excellent^HL70518|APPROPRIATE^Appropriate^HL70519|NORMAL^Normal^HL70520|4^mL^ISO+|1|LAVENDER^Lavender top tube^LOCAL|INTACT^Intact^LOCAL|",
    "SPM|2|URINE202501150002^LAB||URINE^Urine^HL70487|MIDSTREAM^Midstream^HL70541||CLEANCATCH^Clean catch^HL70488|||OUTLAB^Outpatient Laboratory^LOCAL|P^Patient^HL70369|50^mL^ISO+||Clear yellow liquid|REFRIG^Refrigerate^HL70376||20250115100000|20250115103000|20250117100000|Y||GOOD^Good^HL70518|APPROPRIATE^Appropriate^HL70519|NORMAL^Normal^HL70520|45^mL^ISO+|1|URINE^Urine container^LOCAL|INTACT^Intact^LOCAL|"
  ],
  "notes": [
    "SPM segment is critical for laboratory workflows and specimen tracking",
    "Specimen ID (SPM.2) and type (SPM.4) are essential for proper identification",
    "Collection and receipt times are important for test validity and turnaround tracking",
    "Multiple SPM segments can describe different specimens in the same message",
    "Specimen quality and condition fields help labs determine test reliability",
    "Container type and additives must match testing requirements",
    "Parent-child relationships support aliquot and derivative specimen tracking"
  ],
  "generationRules": {
    "required": ["SPM.4"],
    "conditional": {
      "SPM.1": "Required when multiple SPM segments are present",
      "SPM.2": "Should be provided for specimen tracking",
      "SPM.17": "Collection time is critical for time-sensitive tests",
      "SPM.18": "Receipt time important for lab workflow tracking"
    },
    "relationships": {
      "SPM.4_SPM.6": "Additives should be appropriate for specimen type",
      "SPM.4_SPM.27": "Container type should match specimen type requirements",
      "SPM.17_SPM.18": "Receipt time should be after collection time",
      "SPM.18_SPM.19": "Expiration should be after receipt time"
    },
    "validation": {
      "SPM.4": "Must be valid specimen type code",
      "SPM.11": "Must be valid specimen role code when present",
      "SPM.20": "Must be Y or N for availability",
      "SPM.17": "Collection date should be realistic (not future, not too old)"
    }
  }
}
