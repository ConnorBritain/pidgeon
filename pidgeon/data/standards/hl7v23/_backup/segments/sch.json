{
  "segment": "SCH",
  "name": "Scheduling Activity Information",
  "description": "The Scheduling Activity Information segment (SCH) contains information about scheduled activities, appointments, and events. This segment is used in scheduling messages to communicate appointment details, resource allocation, and scheduling status. It supports complex scheduling scenarios including recurring appointments, multi-resource bookings, and appointment modifications.",
  "standard": "hl7v23",
  "version": "2.3",
  "usage": "R",
  "cardinality": {
    "min": 1,
    "max": 1,
    "note": "SCH is required in scheduling messages"
  },
  "messageTypes": [
    "SIU^S12", "SIU^S13", "SIU^S14", "SIU^S15", "SIU^S16", "SIU^S17",
    "SIU^S18", "SIU^S19", "SIU^S20", "SIU^S21", "SIU^S22", "SIU^S23", "SIU^S24", "SIU^S26"
  ],
  "fields": {
    "SCH.1": {
      "name": "Placer Appointment ID",
      "description": "This field contains the unique identifier assigned by the placer application for this scheduled activity or appointment.",
      "dataType": "EI",
      "usage": "C",
      "maxLength": 75,
      "cardinality": {
        "min": 0,
        "max": 1
      },
      "generationHint": "Format: <appointment_id>^<placer_application>, e.g., 'APPT20250115001^SCHED'"
    },
    "SCH.2": {
      "name": "Filler Appointment ID",
      "description": "This field contains the unique identifier assigned by the filler application for this scheduled activity or appointment.",
      "dataType": "EI",
      "usage": "C",
      "maxLength": 75,
      "cardinality": {
        "min": 0,
        "max": 1
      },
      "generationHint": "Format: <appointment_id>^<filler_application>, e.g., 'FILL20250115001^DEPT'"
    },
    "SCH.3": {
      "name": "Occurrence Number",
      "description": "This field contains the occurrence number for recurring appointments. It identifies which occurrence of a repeating appointment series this instance represents.",
      "dataType": "NM",
      "usage": "O",
      "maxLength": 5,
      "cardinality": {
        "min": 0,
        "max": 1
      },
      "generationHint": "Sequential number for recurring appointments: 1, 2, 3, etc."
    },
    "SCH.4": {
      "name": "Placer Group Number",
      "description": "This field contains an identifier that groups multiple related appointments together from the placer perspective.",
      "dataType": "EI",
      "usage": "O",
      "maxLength": 22,
      "cardinality": {
        "min": 0,
        "max": 1
      },
      "generationHint": "Group identifier for related appointments or appointment series"
    },
    "SCH.5": {
      "name": "Schedule ID",
      "description": "This field identifies the schedule or calendar that this appointment is part of.",
      "dataType": "CE",
      "usage": "O",
      "maxLength": 250,
      "cardinality": {
        "min": 0,
        "max": 1
      },
      "generationHint": "Schedule or calendar identifier (physician schedule, room calendar, etc.)"
    },
    "SCH.6": {
      "name": "Event Reason",
      "description": "This field describes the reason for the scheduled event or appointment. Values from HL7 Table 0276 - appointment reason codes.",
      "dataType": "CE",
      "usage": "R",
      "maxLength": 250,
      "cardinality": {
        "min": 1,
        "max": 1
      },
      "validValues": [
        {"code": "ROUTINE", "description": "Routine appointment"},
        {"code": "WALKIN", "description": "Walk-in appointment"},
        {"code": "CHECKUP", "description": "Checkup"},
        {"code": "FOLLOWUP", "description": "Follow-up appointment"},
        {"code": "EMERGENCY", "description": "Emergency appointment"},
        {"code": "CONSULTATION", "description": "Consultation"},
        {"code": "PROCEDURE", "description": "Procedure"},
        {"code": "SURGERY", "description": "Surgery"},
        {"code": "THERAPY", "description": "Therapy session"},
        {"code": "VACCINATION", "description": "Vaccination"},
        {"code": "SCREENING", "description": "Screening exam"},
        {"code": "PREOP", "description": "Pre-operative visit"},
        {"code": "POSTOP", "description": "Post-operative visit"},
        {"code": "ANNUAL", "description": "Annual exam"},
        {"code": "PHYSICAL", "description": "Physical examination"}
      ],
      "generationHint": "Most common: ROUTINE (40%), FOLLOWUP (25%), CHECKUP (15%)"
    },
    "SCH.7": {
      "name": "Appointment Type",
      "description": "This field categorizes the type of appointment or scheduled activity. Values from user-defined table or local codes.",
      "dataType": "CE",
      "usage": "O",
      "maxLength": 250,
      "cardinality": {
        "min": 0,
        "max": 1
      },
      "validValues": [
        {"code": "NORMAL", "description": "Normal appointment"},
        {"code": "TENTATIVE", "description": "Tentative appointment"},
        {"code": "COMPLETE", "description": "Complete appointment"},
        {"code": "BLOCKED", "description": "Blocked time"},
        {"code": "OVERBOOK", "description": "Overbook"},
        {"code": "NOSHOW", "description": "No show"},
        {"code": "CANCEL", "description": "Cancelled"},
        {"code": "CONFIRM", "description": "Confirmed"},
        {"code": "ARRIVED", "description": "Patient arrived"},
        {"code": "CHECKEDIN", "description": "Checked in"},
        {"code": "STARTED", "description": "Started"},
        {"code": "INPROGRESS", "description": "In progress"}
      ],
      "generationHint": "Status-based appointment types for workflow management"
    },
    "SCH.8": {
      "name": "Appointment Duration",
      "description": "This field contains the expected duration of the appointment in minutes.",
      "dataType": "NM",
      "usage": "O",
      "maxLength": 20,
      "cardinality": {
        "min": 0,
        "max": 1
      },
      "generationHint": "Duration in minutes: 15, 30, 45, 60, 90, 120, etc."
    },
    "SCH.9": {
      "name": "Appointment Duration Units",
      "description": "This field specifies the units for the appointment duration. Values from HL7 Table 0344 - time units.",
      "dataType": "CE",
      "usage": "O",
      "maxLength": 250,
      "cardinality": {
        "min": 0,
        "max": 1
      },
      "validValues": [
        {"code": "S", "description": "Second"},
        {"code": "M", "description": "Minute"},
        {"code": "H", "description": "Hour"},
        {"code": "D", "description": "Day"},
        {"code": "W", "description": "Week"},
        {"code": "L", "description": "Month"},
        {"code": "Y", "description": "Year"}
      ],
      "generationHint": "Most commonly M (minutes) for appointment scheduling"
    },
    "SCH.10": {
      "name": "Appointment Timing Quantity",
      "description": "This field contains timing information for recurring appointments, including frequency and interval details.",
      "dataType": "TQ",
      "usage": "O",
      "maxLength": 200,
      "cardinality": {
        "min": 0,
        "max": "*"
      },
      "generationHint": "Recurring pattern: daily, weekly, monthly, etc. with intervals"
    },
    "SCH.11": {
      "name": "Placer Contact Person",
      "description": "This field identifies the person to contact at the placer organization regarding this appointment.",
      "dataType": "XCN",
      "usage": "O",
      "maxLength": 250,
      "cardinality": {
        "min": 0,
        "max": "*"
      },
      "generationHint": "Scheduling coordinator or contact person for appointment changes"
    },
    "SCH.12": {
      "name": "Placer Contact Phone Number",
      "description": "This field contains the phone number for contacting the placer regarding this appointment.",
      "dataType": "XTN",
      "usage": "O",
      "maxLength": 250,
      "cardinality": {
        "min": 0,
        "max": 1
      },
      "generationHint": "Contact phone for appointment scheduling or changes"
    },
    "SCH.13": {
      "name": "Placer Contact Address",
      "description": "This field contains the address for contacting the placer regarding this appointment.",
      "dataType": "XAD",
      "usage": "O",
      "maxLength": 250,
      "cardinality": {
        "min": 0,
        "max": "*"
      },
      "generationHint": "Mailing or physical address for appointment-related correspondence"
    },
    "SCH.14": {
      "name": "Placer Contact Location",
      "description": "This field identifies the physical location of the placer contact person.",
      "dataType": "PL",
      "usage": "O",
      "maxLength": 80,
      "cardinality": {
        "min": 0,
        "max": 1
      },
      "generationHint": "Office location within facility for placer contact"
    },
    "SCH.15": {
      "name": "Filler Contact Person",
      "description": "This field identifies the person to contact at the filler organization regarding this appointment.",
      "dataType": "XCN",
      "usage": "R",
      "maxLength": 250,
      "cardinality": {
        "min": 1,
        "max": "*"
      },
      "generationHint": "Department scheduler or coordinator receiving the appointment"
    },
    "SCH.16": {
      "name": "Filler Contact Phone Number",
      "description": "This field contains the phone number for contacting the filler regarding this appointment.",
      "dataType": "XTN",
      "usage": "O",
      "maxLength": 250,
      "cardinality": {
        "min": 0,
        "max": 1
      },
      "generationHint": "Department contact phone for appointment confirmation or changes"
    },
    "SCH.17": {
      "name": "Filler Contact Address",
      "description": "This field contains the address for contacting the filler regarding this appointment.",
      "dataType": "XAD",
      "usage": "O",
      "maxLength": 250,
      "cardinality": {
        "min": 0,
        "max": "*"
      },
      "generationHint": "Department address for appointment-related correspondence"
    },
    "SCH.18": {
      "name": "Filler Contact Location",
      "description": "This field identifies the physical location of the filler contact person.",
      "dataType": "PL",
      "usage": "O",
      "maxLength": 80,
      "cardinality": {
        "min": 0,
        "max": 1
      },
      "generationHint": "Office or department location for filler contact"
    },
    "SCH.19": {
      "name": "Entered By Person",
      "description": "This field identifies the person who entered or created the appointment.",
      "dataType": "XCN",
      "usage": "R",
      "maxLength": 250,
      "cardinality": {
        "min": 1,
        "max": "*"
      },
      "generationHint": "User who scheduled the appointment - for audit trail purposes"
    },
    "SCH.20": {
      "name": "Entered By Phone Number",
      "description": "This field contains the phone number of the person who entered the appointment.",
      "dataType": "XTN",
      "usage": "O",
      "maxLength": 250,
      "cardinality": {
        "min": 0,
        "max": "*"
      },
      "generationHint": "Contact information for person who made the appointment"
    },
    "SCH.21": {
      "name": "Entered By Location",
      "description": "This field identifies the physical location where the appointment was entered.",
      "dataType": "PL",
      "usage": "O",
      "maxLength": 80,
      "cardinality": {
        "min": 0,
        "max": 1
      },
      "generationHint": "Location where appointment was scheduled (reception desk, call center, etc.)"
    },
    "SCH.22": {
      "name": "Parent Placer Appointment ID",
      "description": "This field contains the placer appointment ID of a parent appointment when this appointment is part of a series or related group.",
      "dataType": "EI",
      "usage": "O",
      "maxLength": 75,
      "cardinality": {
        "min": 0,
        "max": 1
      },
      "generationHint": "Reference to parent appointment for recurring or linked appointments"
    },
    "SCH.23": {
      "name": "Parent Filler Appointment ID",
      "description": "This field contains the filler appointment ID of a parent appointment when this appointment is part of a series or related group.",
      "dataType": "EI",
      "usage": "O",
      "maxLength": 75,
      "cardinality": {
        "min": 0,
        "max": 1
      },
      "generationHint": "Filler reference to parent appointment for recurring or linked appointments"
    },
    "SCH.24": {
      "name": "Filler Status Code",
      "description": "This field indicates the status of the appointment from the filler's perspective. Values from HL7 Table 0278 - filler status codes.",
      "dataType": "CE",
      "usage": "O",
      "maxLength": 250,
      "cardinality": {
        "min": 0,
        "max": 1
      },
      "validValues": [
        {"code": "Pending", "description": "Appointment request is pending"},
        {"code": "Waitlist", "description": "Appointment is on waitlist"},
        {"code": "Booked", "description": "Appointment is booked"},
        {"code": "Started", "description": "Appointment has started"},
        {"code": "Complete", "description": "Appointment is complete"},
        {"code": "Cancelled", "description": "Appointment is cancelled"},
        {"code": "Overbook", "description": "Appointment is overbooked"},
        {"code": "Noshow", "description": "Patient did not show"}
      ],
      "generationHint": "Status from department/resource perspective managing the appointment"
    },
    "SCH.25": {
      "name": "Placer Order Number",
      "description": "This field contains the placer order number when the appointment is associated with a specific order or request.",
      "dataType": "EI",
      "usage": "O",
      "maxLength": 22,
      "cardinality": {
        "min": 0,
        "max": "*"
      },
      "generationHint": "Link to ordering system when appointment is for specific procedures/orders"
    },
    "SCH.26": {
      "name": "Filler Order Number",
      "description": "This field contains the filler order number when the appointment is associated with a specific order or request.",
      "dataType": "EI",
      "usage": "O",
      "maxLength": 22,
      "cardinality": {
        "min": 0,
        "max": "*"
      },
      "generationHint": "Link to fulfilling system when appointment is for specific procedures/orders"
    }
  },
  "crossReferences": {
    "fhir": [
      "Appointment.identifier",
      "Appointment.status",
      "Appointment.appointmentType",
      "Appointment.reasonCode",
      "Appointment.description",
      "Appointment.start",
      "Appointment.end",
      "Appointment.minutesDuration",
      "Appointment.participant",
      "Appointment.requestedPeriod"
    ],
    "related": ["PID", "PV1", "AIG", "AIL", "AIP", "AIS", "NTE"]
  },
  "examples": [
    "SCH|APPT20250115001^SCHED|FILL20250115001^CARDIO||GRP001^SCHED|CARDIO_CALENDAR^Cardiology Schedule^LOCAL|ROUTINE^Routine appointment^LOCAL|NORMAL^Normal appointment^LOCAL|60|M^Minute^HL70344||12345^SCHEDULER^JANE^RN|^PRN^PH^^^555^1234567|||67890^CARDIO^COORDINATOR^RN|^PRN^PH^^^555^7654321|||98765^RECEPTIONIST^MARY^|^PRN^PH^^^555^9876543||||||Booked^Booked^LOCAL||",
    "SCH|APPT20250115002^SCHED|FILL20250115002^RAD|2|SERIES001^SCHED|RAD_SCHEDULE^Radiology Schedule^LOCAL|FOLLOWUP^Follow-up appointment^LOCAL|CONFIRM^Confirmed^LOCAL|30|M^Minute^HL70344|1*W^Weekly^LOCAL|11111^SCHEDULER^JOHN^|^PRN^PH^^^555^1111111|||22222^RAD^TECH^RT|^PRN^PH^^^555^2222222|||33333^CLERK^SCHEDULING^|||||APPT20250108001^SCHED|FILL20250108001^RAD|Started^Started^LOCAL|ORD20250115001^ORM|FILL20250115001^RAD"
  ],
  "notes": [
    "SCH segment is the core segment for all scheduling messages",
    "Either placer ID (SCH.1) or filler ID (SCH.2) must be present for appointment identification",
    "Event Reason (SCH.6), Filler Contact Person (SCH.15), and Entered By Person (SCH.19) are required",
    "Duration and timing information support complex scheduling scenarios",
    "Parent appointment relationships enable recurring and linked appointment series",
    "Multiple contact persons and methods support complex organizational structures",
    "Status codes track appointment lifecycle from request through completion"
  ],
  "generationRules": {
    "required": ["SCH.6", "SCH.15", "SCH.19"],
    "conditional": {
      "SCH.1": "Either SCH.1 or SCH.2 must be present for appointment identification",
      "SCH.2": "Either SCH.1 or SCH.2 must be present for appointment identification",
      "SCH.8": "Should be provided when scheduling timed appointments",
      "SCH.9": "Required when SCH.8 (duration) is present"
    },
    "relationships": {
      "SCH.1_SCH.2": "At least one appointment ID should be present",
      "SCH.8_SCH.9": "Duration units should be specified when duration is provided",
      "SCH.22_SCH.23": "Parent appointment references should align between placer and filler",
      "SCH.3_SCH.10": "Occurrence number should align with timing quantity for recurring appointments"
    },
    "validation": {
      "SCH.6": "Must be valid appointment reason code",
      "SCH.8": "Duration should be realistic (5-480 minutes for most appointments)",
      "SCH.9": "Must be valid HL7 Table 0344 time unit when present",
      "SCH.24": "Must be valid HL7 Table 0278 filler status code when present"
    }
  }
}
