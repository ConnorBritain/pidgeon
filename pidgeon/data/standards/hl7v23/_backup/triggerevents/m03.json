{
  "triggerEvent": "M03",
  "name": "Master File - Test/Observation",
  "description": "Master file updates for laboratory tests, clinical observations, and diagnostic procedures including codes, reference ranges, and collection requirements",
  "standard": "hl7v23",
  "version": "2.3",
  "chapter": "8",
  "chapterName": "Master Files",
  "messageStructure": "MFN^M03",
  "hl7Reference": "HL7 v2.3 Chapter 8 Master Files - HL7.eu/HL7v2x/v23/std23",
  "segments": {
    "required": [
      "MSH",
      "MFI",
      "MFE",
      "OM1"
    ],
    "optional": [
      "OM2",
      "OM3",
      "OM4",
      "OM5",
      "OM6"
    ]
  },
  "businessPurpose": "Synchronize test and observation master data across laboratory information systems and clinical applications",
  "timing": "Sent when test definitions change, including new tests, modified reference ranges, or updated collection procedures",
  "responseMessage": "MFK^M03^MFK",
  "standardNotes": [
    "M03 handles test/observation master file updates for laboratory and clinical systems",
    "OM1 segment contains general test identification and administrative information",
    "OM2 segment provides numeric observation range and unit information",
    "OM3 segment contains categorical test information for coded results",
    "OM4 segment specifies specimen collection and handling requirements",
    "OM5 segment defines observation batteries and test panels",
    "OM6 segment contains observation calculated values and formulas"
  ],
  "realWorldScenarios": [
    "Laboratory adds new molecular diagnostic test to available test menu",
    "Reference ranges updated for pediatric population after standards review",
    "Collection tube requirements change for specific chemistry tests",
    "New point-of-care test activated across emergency departments",
    "Test code mappings updated for external reference laboratory",
    "Critical value thresholds modified for cardiac troponin testing"
  ],
  "generationRules": {
    "MSH.9": "MFN^M03",
    "MFI.1": "Test/Observation master file identifier",
    "MFI.3": "File-level event code (REP, UPD)",
    "MFE.1": "Record-level event code (MAD, MUP, MDL)",
    "MFE.4": "Primary key value (test code)",
    "OM1.1": "Sequence Number - Test/Observation Master File",
    "OM1.2": "Producer's Test/Observation ID",
    "OM1.3": "Permitted Data Types",
    "OM1.4": "Specimen Required",
    "OM1.5": "Producer ID",
    "OM1.6": "Observation Description",
    "OM1.7": "Other Test/Observation IDs for the Observation",
    "OM2.1": "Sequence Number - Test/Observation Master File",
    "OM2.2": "Units of Measure",
    "OM2.3": "Range of Decimal Precision",
    "OM2.4": "Corresponding SI Units of Measure",
    "requiredDataQuality": "Critical - test definitions affect patient safety, clinical decision-making, and regulatory compliance",
    "tableReferences": {
      "MFI.3": "HL7-0178 (File Level Event Code)",
      "MFE.1": "HL7-0180 (Record Level Event Code)",
      "OM1.3": "HL7-0125 (Value Type)",
      "OM1.4": "HL7-0136 (Yes/No Indicator)"
    }
  }
}
