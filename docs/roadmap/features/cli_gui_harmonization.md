harmonization strategy: cli + gui

design principles
	1.	one engine under the hood
	•	generation, validation, diffing, de-ident, config inference all live in the core library/services.
	•	cli and gui are just different front-ends calling the same apis.
	•	outcome: consistency (a validation failure in cli = same failure in gui).
	2.	consistent mental model
	•	commands = gui features.
	•	pidgeon generate → gui “generate messages” panel.
	•	pidgeon workflow wizard → gui “workflow builder.”
	•	names, options, and defaults match so users can transfer knowledge between contexts.
	3.	complementary strengths
	•	cli = speed, automation, ci integration, power users.
	•	gui = visualization, team collab, dashboards, onboarding for non-devs.
	•	together, they form a spectrum: devs script/test; teams review, audit, share.
	4.	export/import symmetry
	•	every gui operation can export a cli-equivalent (json/yaml config + “copy cli command”).
	•	every cli artifact (scenario file, config profile, validation report) can be opened in gui.
	•	ensures round-tripping: start in cli, finish in gui—or vice versa.
	5.	growth path alignment
	•	free tier = cli + limited gui.
	•	pro/enterprise = unlock advanced gui features (visual diff, team workspaces) and advanced cli flags (ai models, fhir profile validation).
	•	upsell nudges come naturally: “this validation used strict mode. open in gui for a visual breakdown.”

⸻

harmonized feature roadmap

p0 (mvp)
	•	cli: gen/validate/deident/diff/workflow/config as scoped.
	•	gui:
	•	dashboard: recent runs, active configs.
	•	simple gen/validate forms.
	•	workflow wizard (stepper ui).
	•	de-ident drag-and-drop.
	•	report viewer for validation/diff outputs.
	•	shared artifacts:
	•	reports (html/json) generated by cli are viewable in gui.
	•	gui exports scenario/config files runnable via cli.

p1 (expansion)
	•	cli: config manager v1, trust hub v1, fhir expansion, message studio, chatbot.
	•	gui:
	•	visual config diff/merge tool.
	•	trust hub dashboard (share, attest configs).
	•	fhir explorer: query/test against live server.
	•	message studio gui: drag-drop or nl→message.
	•	chatbot pane for “explain this message.”
	•	shared artifacts:
	•	config profiles: edit in gui or apply in cli.
	•	scenarios: visual builder in gui, run in cli.
	•	ai annotations: stored alongside cli outputs.

p2 (moat)
	•	cli: cross-standard transforms, governance (roles, audit), profile matrix.
	•	gui:
	•	enterprise workspace with role-based access.
	•	validation dashboards (heatmaps, audit logs).
	•	visual transform mapping tool (hl7↔fhir↔ncpdp).
	•	marketplace for vendor packs/blueprints.
	•	shared artifacts:
	•	audit logs and governance rules accessible both ways.
	•	marketplace content installable via gui or pidgeon config install in cli.

⸻

technical harmonization patterns
	•	common api layer:
	•	expose generation/validation as services callable via cli and gui.
	•	ensures no duplication of business logic.
	•	artifact formats:
	•	scenarios/configs/reports standardized as json/yaml/html.
	•	both cli and gui can consume/produce them.
	•	context/profiles:
	•	config in ~/.pidgeon/config.json for cli; same stored in gui workspace.
	•	syncing ensures devs and non-devs see the same “active profile.”
	•	discoverability:
	•	cli: --help with gui references (“see: gui validation report viewer”).
	•	gui: “view cli equivalent” copy-paste snippet.

⸻

examples of cli⇆gui complement
	•	cli:
pidgeon generate message -t ORU -n 100 -o labs.hl7
→ gui: labs viewer opens with summary charts of 100 ORUs.
	•	gui:
user builds a workflow (admit→lab→rx) visually → clicks “export cli” →
pidgeon workflow run --file workflows/admit_lab_rx.yml.
	•	cli:
pidgeon validate --file labs.hl7 --mode strict --report val.html
→ gui: user opens val.html in viewer; sees drill-down by segment/resource.

⸻

end-state vision
	•	developers: live in cli, script into pipelines, share artifacts.
	•	consultants/it staff: live in gui, validate visually, manage configs.
	•	organizations: adopt both seamlessly. cli evangelizes adoption; gui drives paid value.
	•	perception: two first-class products, one engine. each is useful alone, but magical together.